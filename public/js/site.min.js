var DomUtils={};function DomElement(e){this.element=e}function DomList(e){this.elements=e||[]}function $(e){return DomUtils.find(e)}function getTimer(){return(new Date).getTime()}function D2R(e){return e/180*Math.PI}function loadImage(e,t){var a=new Image;return a.onload=function(){t()},setTimeout(function(e,t){e.src=t},1,a,e),a}DomUtils.find=function(e,t){if("object"==typeof e)return new DomElement(e);var a=(t=t||document).querySelectorAll(e);if(a.length>1){for(var o=new DomList,i=0;i<a.length;i++)o.push(new DomElement(a[i]));return o}return new DomElement(a[0])},DomElement.prototype.click=function(e){return this.element?(this.on("click",e),this):this},DomElement.prototype.css=function(e){if(!this.element)return this;if("string"==typeof e)return this.element.style[e];for(var t in e)this.element.style[t]=e[t];return this},DomElement.prototype.hide=function(){return this.element?(this.prevDisplay=this.element.style.display,this.element.style.display="none",this):this},DomElement.prototype.show=function(){return this.element?(this.element.style.display=this.prevDisplay||"",this):this},DomElement.prototype.addClass=function(e){if(!this.element)return this;if(""!=e.trim()){var t=e.trim().split(" ");for(var a in t)this.element.classList.add(t[a])}return this},DomElement.prototype.removeClass=function(e){if(!this.element)return this;if(""!=e.trim()){var t=e.trim().split(" ");for(var a in t)this.element.classList.remove(t[a].trim())}return this},DomElement.prototype.hasClass=function(e){return!!this.element&&this.element.classList.contains(e)},DomElement.prototype.find=function(e){return DomUtils.find(e,this.element)},DomElement.prototype.first=function(){return this},DomElement.prototype.last=function(){return this},DomElement.prototype.on=function(e,t){return this.element?(this.element.addEventListener(e,t,!1),this):this},DomElement.prototype.off=function(e,t){return this.element?(this.element.removeEventListener(e,t,!1),this):this},DomElement.prototype.html=function(e){return this.element?(this.element.innerHTML=e,this):this},DomElement.prototype.scrollTop=function(e){return this.element?this.element.scrollTop:0},DomElement.prototype.hover=function(e,t){return e&&this.on("mouseenter",e),t&&this.on("mouseleave",t),this},DomElement.prototype.parent=function(){return new DomElement(this.element.parentElement)},DomElement.prototype.offset=function(){return this.element?this.element.getBoundingClientRect():{top:0,left:0}},DomElement.prototype.classes=function(e){return this.element?null==e?this.element.classList.length:this.element.classList[e]:[]},DomElement.prototype.data=function(e,t){return!!this.element&&(void 0!==t?(this.element.dataset[e]=t,this):this.element.dataset[e])},Object.defineProperty(DomList.prototype,"length",{get:function(){return this.elements.length}}),DomList.prototype.push=function(e){this.elements.push(e)},DomList.prototype.callMethod=function(e,t){for(var a=0;a<this.elements.length;a++)this.elements[a][e](t);return this},DomList.prototype.addClass=function(e){return this.callMethod("addClass",e)},DomList.prototype.removeClass=function(e){return this.callMethod("removeClass",e)},DomList.prototype.css=function(e){return this.callMethod("css",e)},DomList.prototype.find=function(e){return this.callMethod("find",e)},DomList.prototype.first=function(){return this.elements[0]},DomList.prototype.get=function(e){return this.elements[e]},DomList.prototype.last=function(){return this.elements[this.elements.length-1]},DomList.prototype.hasClass=function(e){return this.callMethod("hasClass",e)},DomList.prototype.html=function(e){return this.callMethod("html",e)},DomList.prototype.click=function(e){return this.callMethod("click",e)},DomList.prototype.parent=function(){return this.callMethod("parent")},DomList.prototype.offset=function(){return this.callMethod("offset")},DomList.prototype.show=function(){return this.callMethod("show")},DomList.prototype.hide=function(){return this.callMethod("hide")},DomList.prototype.scrollTop=function(){return this.callMethod("scrollTop")},DomList.prototype.on=function(e,t){for(var a=0;a<this.elements.length;a++)this.elements[a].on(e,t);return this},DomList.prototype.off=function(e,t){for(var a=0;a<this.elements.length;a++)this.elements[a].off(e,t);return this},DomList.prototype.hover=function(e,t){for(var a=0;a<this.elements.length;a++)this.elements[a].hover(e,t);return this};var Utils={detectBrowser:function(){-1!=navigator.appVersion.indexOf("Win")&&$("body").addClass("window-os"),navigator.platform.toUpperCase().indexOf("MAC")>=0&&$("body").addClass("mac-os"),-1!=navigator.appVersion.indexOf("Linux")&&$("body").addClass("linux-os");var e=navigator.userAgent.toLowerCase();-1!=e.indexOf("safari")&&(e.indexOf("chrome")>-1?$("body").addClass("chrome"):$("body").addClass("safari")),!(null==window.mozInnerScreenX)&&$("body").addClass("fire-fox")},detectDevice:function(){return document.body.classList.add("fire-fox"),this.mobileCheck()?(document.body.classList.add("mobile"),"mobile"):this.tabletCheck()?(document.body.classList.add("tablet"),"tablet"):"desktop"},tabletCheck:function(){return navigator.maxTouchPoints||"ontouchstart"in document.documentElement},mobileCheck:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}},APPW=1920,APPH=1080;function CanvasEngine(e,t){CanvasEngine.instance=this,this.config=t,this.margin=this.config.margin||0,this.canvas=document.getElementById(e),this.sequences={},this.graphics=this.canvas.getContext("2d"),this.running=!1,this.disableRender=!1,this.images={loaded:0,total:0,loader:[]},this.imagesCount=0,this.forceUpdate=!1,this.logicProcessors=[],this.animationData=null,this.animationSlug=null,this.tempFolder=!1,this.sprites={},this.fitCanvas(),this.init()}CanvasEngine.prototype.resize=function(){return!1},CanvasEngine.prototype.setFolder=function(e){this.tempFolder=e},CanvasEngine.prototype.fitCanvas=function(){APPW=this.width=this.canvas.width,APPH=this.height=this.canvas.height},CanvasEngine.prototype.registerImage=function(e,t,a){var o=this;this.images.total++;var i=loadImage(t,function(){o.onImageLoaded(),a()});return this.images.loader.push(i),e&&this.logicProcessors.push(e),i},CanvasEngine.prototype.setAnimation=function(e){this.animationSlug=e;for(var t=this.animationSlug.split("."),a=AnimationData.sections[t[0]],o=1;o<t.length;o++)a=a[t[o]];this.animationData=a},CanvasEngine.prototype.onImageLoaded=function(){this.images.loaded++,this.images.loaded==this.images.total&&this.internalStart()},CanvasEngine.prototype.setGroup=function(e){if(this.activeGroup=e,null==this.sprites[e]){var t=new Graphic(!1,{key:e});t.isGroup=!0,this.sprites[e]=t,this.logicProcessors.push(t)}},CanvasEngine.prototype.closeGroup=function(){this.activeGroup=!1},CanvasEngine.prototype.init=function(){this.build()},CanvasEngine.prototype.addSpriteSheet=function(e,t){for(var a=this.tempFolder||this.config.folder,o=this.registerImage(null,a+e,function(){}),i=0;i<t.length;i++){var s=t[i],n=new Graphic(!1,s);n.linkToImg(o),n.visible=!1,n.isPart=!0,this.activeGroup&&n.setGroup(this.sprites[this.activeGroup]),this.sprites[s.key]=n,this.logicProcessors.push(n)}},CanvasEngine.prototype.addSequence=function(e,t,a,o,i){this.sequences[i.key]=[];for(var s=this.tempFolder||this.config.folder,n=1;n<=t;n++)this.sequences[i.key][n-1]=this.registerImage(null,s+e+"/frame"+n+"."+a,function(){});var l=new Graphic(!1,i);l.playTime=o,this.activeGroup&&l.setGroup(this.sprites[this.activeGroup]),l.linkToSequence(this.sequences[i.key]),l.visible=!1,this.sprites[i.key]=l,this.logicProcessors.push(l)},CanvasEngine.prototype.addMask=function(e){var t=(e=e||{}).key||src.split("/").pop().split(".").shift();e.margin=this.margin,e.key=t;this.tempFolder||this.config.folder;var a=new Graphic(!1,e);a.visible=!1,a.isMask=!0,this.sprites[t]=a,this.logicProcessors.push(a)},CanvasEngine.prototype.addSprite=function(e,t){var a=(t=t||{}).key||e.split("/").pop().split(".").shift();t.margin=this.margin,t.key=a;var o=new Graphic((this.tempFolder||this.config.folder)+e,t);this.activeGroup&&!t.skipGroup&&o.setGroup(this.sprites[this.activeGroup]),o.visible=!1,this.sprites[a]=o},CanvasEngine.prototype.internalStart=function(){this.start(),this.running=!0,this.loop()},CanvasEngine.prototype.loop=function(){var e=this;if(!this.disableRender){this.internalLogic(),this.skipRender=!0;for(var t=0;t<this.logicProcessors.length;t++)this.logicProcessors[t].logic()&&(this.skipRender=!1);if(this.internalRender(),this.postRender(),!this.running)return}requestAnimationFrame(function(){e.loop()})},CanvasEngine.prototype.render=function(){},CanvasEngine.prototype.logic=function(){},CanvasEngine.prototype.build=function(){},CanvasEngine.prototype.postRender=function(){},CanvasEngine.prototype.internalLogic=function(){return this.renderlist="",this.logic(),!1},CanvasEngine.prototype.internalRender=function(){if(this.skipRender)this.renderlist="freeze";else{this.canvas.width=this.canvas.width,this.render();for(var e=0;e<this.logicProcessors.length;e++){var t=this.logicProcessors[e].render(this.graphics);t&&(this.renderlist+=t,this.renderlist+="["+(this.logicProcessors[e].needsUpdate?"*":" ")+"]",this.renderlist+="<br/>")}if(this.margin>0){var a=this.graphics;a.strokeStyle="#ff0000",a.beginPath(),a.moveTo(this.margin,this.margin),a.lineTo(this.width-this.margin,this.margin),a.lineTo(this.width-this.margin,this.height-this.margin),a.lineTo(this.margin,this.height-this.margin),a.closePath(),a.stroke()}}};var tweenSpeed=30;function Graphic(e,t){if(this.src=e,"center"==(t=t||{}).position?(this.x=.5,this.y=.5):(this.x=t.x||0,this.y=t.y||0),this.final={alpha:0},this.initial={},this.isPart=!1,this.gcinitial={},this.sequence=null,this.isSequence=!1,this.delay=0,this.group=!1,this.isGroup=!1,this.startTimeDelay=0,this.isPlaying=!1,this.rotation=0,this.playTime=0,this.startTime=0,this.isMask=!1,this.maskReset=t.maskReset||!1,this.whiten=t.whiten||0,this.darken=t.darken||0,this.margin=t.margin||0,this.visible=!0,this.name=t.key||"Untitled",this.width=t.width||1,this.height=t.height||1,this.aspect=this.height/this.width,this.ratio=t.ratio||1,this.needsUpdate=!1,this.alpha=t.alpha||1,this.size=t.size||"width",t.scale&&(this.scale=t.scale),this.pivot=t.pivot||{x:0,y:0},this.updatePivot(this.pivot),this.renderData={pivot:{}},this.cropData=!1,t.crop){var a=64*t.crop[0],o=64*t.crop[1],i=64*t.crop[2],s=64*t.crop[3];this.cropData={x:a,y:o,width:i,height:s},this.width=this.cropData.width/APPW,this.aspect=this.cropData.height/this.cropData.width,this.height=this.width*this.aspect}AnimationData.initial||(AnimationData.initial={}),AnimationData.initial[this.name]={alpha:0,x:this.x,y:this.y,darken:0,whiten:0,rotation:0,visible:!1},this.isPart?(AnimationData.initial[this.name].width=this.width,AnimationData.initial[this.name].height=this.height):AnimationData.initial[this.name].scale=this.scale,e&&this.load(),this.logic()}Graphic.prototype.setPivot=function(){},Graphic.prototype.updatePivot=function(e){switch(e){case"center":this.pivot={x:.5,y:.5};break;case"topright":this.pivot={x:1,y:0}}},Graphic.prototype.load=function(){var e=this;this.image=CanvasEngine.instance.registerImage(this,this.src,function(){e.onLoad()})},Graphic.prototype.setGroup=function(e){this.group=e},Graphic.prototype.linkToImg=function(e){this.image=e},Graphic.prototype.linkToSequence=function(e){this.sequence=e,this.isSequence=!0,this.frame=0,this.linkToImg(this.sequence[this.frame]),this.aspect=.5625,this.height=this.width*this.aspect,this.isPart&&(AnimationData.initial[this.name].width=this.width,AnimationData.initial[this.name].height=this.height),this.frameTime=1e3*this.playTime/this.sequence.length},Graphic.prototype.onLoad=function(){this.aspect=this.image.height/this.image.width,this.height=this.width*this.aspect,this.isPart&&(AnimationData.initial[this.name].width=this.width,AnimationData.initial[this.name].height=this.height)},Graphic.prototype.__defineGetter__("scale",function(){return Math.max(this.width)}),Graphic.prototype.__defineSetter__("scale",function(e){this.width=e,this.height=this.width*this.aspect}),Graphic.prototype.stop=function(){this.isPlaying=!1,this.frame=0},Graphic.prototype.pause=function(){this.isPlaying=!1},Graphic.prototype.play=function(){this.isPlaying=!0,this.startTime=getTimer()-this.frameTime*this.frame},Graphic.prototype.rewind=function(){this.frame=0,this.startTime=getTimer()},Graphic.prototype.resetDelay=function(){this.delay=0,this.startTimeDelay=0,delete this.final.delay},Graphic.prototype.logic=function(){var e=!1;if(this.final.delay&&0==this.startTimeDelay&&(this.delay=1e3*this.final.delay,this.startTimeDelay=getTimer()),this.startTimeDelay>0){if(!(getTimer()-this.startTimeDelay>this.delay))return;this.startTimeDelay=-1,this.delay=0,delete this.final.delay}for(var t in this.initial)null!=this.initial[t]&&(this.final[t]=this[t],this[t]=this[t]+this.initial[t],this.gcinitial[t]=this.initial[t],delete this.initial[t]);for(var t in this.final)if("pivot"==t){var a=this.final.pivot.x-this.pivot.x;Math.abs(a)>.001&&(e=!0),this.pivot.x+=a/tweenSpeed,a=this.final.pivot.y-this.pivot.y,Math.abs(a)>.001&&(e=!0),this.pivot.y+=a/tweenSpeed}else{a=this.final[t]-this[t];Math.abs(a)>.001&&(e=!0),this[t]+=a/(this.final.speed?this.final.speed:tweenSpeed)}if(this.isMask&&(e=!0),this.isSequence&&this.isPlaying){var o=getTimer()-this.startTime,i=Math.floor(o/this.frameTime);this.frame=Math.min(this.sequence.length-1,i),this.linkToImg(this.sequence[this.frame]),e=!0}if(this.needsUpdate=e,this.isGroup&&(this.needsUpdate=!0),this.group&&(this.needsUpdate=!0),!this.needsUpdate)return!1;if(!this.visible&&!this.isGroup)return!1;var s=APPW,n=APPH,l=0,r=0;return this.group&&(s*=this.group.width,n*=this.group.width,l=(APPW-s)/2+this.group.x*APPW,r=(APPH-n)/2+this.group.x*APPH),"fill"==this.size?(this.renderData.width=s,this.renderData.height=n):(this.renderData.width=this.width*s,this.renderData.height=this.renderData.width*this.aspect),this.renderData.x=this.x*s-this.pivot.x*this.renderData.width+l,this.renderData.y=this.y*n-this.pivot.y*this.renderData.height+r,this.needsUpdate},Graphic.prototype.render=function(e){if(!this.isGroup&&this.visible&&!(this.alpha<.01)){e.globalAlpha=this.alpha;var t=APPW,a=APPH,o=0,i=0;if(this.group&&(t*=this.group.width,a*=this.group.width,o=(APPW-t)/2+this.group.x*APPW,i=(APPH-a)/2+this.group.x*APPH),!(this.renderData.x+this.renderData.width<=0||this.renderData.x>=APPW||this.renderData.y+this.renderData.height<=0||this.renderData.y>=APPH)){var s=!1;Math.abs(this.rotation)>0&&(e.save(),e.translate(this.x*t+o,this.y*a+i),e.rotate(D2R(this.rotation)),this.renderData.x=-this.pivot.x*this.renderData.width,this.renderData.y=-this.pivot.y*this.renderData.height,s=!0),this.isMask?(e.fillStyle="#00FF00",this.maskReset?e.restore():(e.save(),e.beginPath(),e.moveTo(this.renderData.x,this.renderData.y),e.lineTo(this.renderData.x+this.renderData.width,this.renderData.y),e.lineTo(this.renderData.x+this.renderData.width,this.renderData.y+this.renderData.height),e.lineTo(this.renderData.x,this.renderData.y+this.renderData.height),e.closePath(),e.clip())):this.cropData?this.renderAndCrop(e,this.image,this.renderData,this.cropData):this.renderNormal(e,this.image,this.renderData),this.darken>0&&(e.fillStyle="#000000",e.globalAlpha=this.darken*this.alpha,e.fillRect(this.renderData.x,this.renderData.y,this.renderData.width,this.renderData.height),e.globalAlpha=this.alpha),this.whiten>0&&(e.fillStyle="#FFFFFF",e.globalAlpha=this.whiten*this.alpha,e.fillRect(this.renderData.x,this.renderData.y,this.renderData.width,this.renderData.height),e.globalAlpha=this.alpha),s&&e.restore();this.x,this.y;return e.globalAlpha=1,this.name}}},Graphic.prototype.renderAndCrop=function(e,t,a,o){e.drawImage(t,o.x,o.y,o.width,o.height,a.x+this.margin,a.y+this.margin,a.width,a.height)},Graphic.prototype.renderNormal=function(e,t,a,o){e.drawImage(t,a.x+this.margin,a.y+this.margin,a.width,a.height)},Graphic.prototype.renderPivot=function(e,t){e.globalAlpha=1,e.strokeStyle="#ff0000",e.beginPath(),e.moveTo(t.x-5,t.y),e.lineTo(t.x+5,t.y),e.moveTo(t.x,t.y-5),e.lineTo(t.x,t.y+5),e.closePath(),e.stroke()};var AnimationData={initial2:{background:{alpha:0},house:{x:-2,y:.7,scale:1.5,alpha:0},front:{x:-2,y:.7,scale:1.5,alpha:0},geoback:{scale:.17,x:.15,y:.57,alpha:1,visible:!1},seam:{alpha:0},depth:{alpha:0},color:{alpha:0},semantic:{alpha:0},furniture:{alpha:1},phonemask:{alpha:1,visible:!1,scale:1.6*.8},phonemaskend:{alpha:1,visible:!1,scale:1.6*.8},phone:{alpha:1,visible:!1,visible:!1,scale:1.6},geocomplete:{alpha:0,x:.5,y:.57,scale:1.4},background:{alpha:0},diningback:{alpha:0,x:.5,y:.5},diningdebug:{alpha:0,x:.5,y:.5},carpet:{alpha:0,x:.5,y:.5},fruit:{alpha:0},spieces:{copy:"fruit"},spieces2:{alpha:0},plant:{alpha:0},table:{alpha:0},carpet:{alpha:0},lpaint1:{alpha:0},lpaint2:{alpha:0},bpaint1:{alpha:0},bpaint2:{alpha:0},bpaint3:{alpha:0},rack:{alpha:0},lamp1:{alpha:0},lamp2:{alpha:0},chair1:{alpha:0},chair1_option1:{alpha:0},chair1_option2:{alpha:0},chair2:{alpha:0},chair2_option1:{alpha:0},chair2_option2:{alpha:0},chair1_glow:{alpha:0},chair1_option1_glow:{alpha:0},chair1_option2_glow:{alpha:0},chair2_glow:{alpha:0},chair2_option1_glow:{alpha:0},chair2_option2_glow:{alpha:0},chair3:{alpha:0},chair4:{alpha:0},officeback:{alpha:0},fruit_color:{alpha:0},spieces_color:{alpha:0},plant_color:{alpha:0},rack_color:{alpha:0},lamp1_color:{alpha:0},lamp2_color:{alpha:0},chair3_color:{alpha:0},chair4_color:{alpha:0},ochair:{alpha:0},odesk:{alpha:0},ocarpet:{alpha:0},otable:{alpha:0},oplant:{alpha:0},olamp:{alpha:0},oshelves1:{alpha:0},oshelves2:{alpha:0},oframe1:{alpha:0},oframe2:{alpha:0},oframe3:{alpha:0},officeref:{alpha:0},osmallplant:{alpha:0},obox1:{alpha:0},obox2:{alpha:0},obox3:{alpha:0},opapers1:{alpha:0},opapers2:{alpha:0},opapers3:{alpha:0},obird:{alpha:0},obook1:{alpha:0},obook2:{alpha:0},obook3:{alpha:0},obook4:{alpha:0},ocup:{alpha:0},shot1:{alpha:0},shot2:{alpha:0},shot3:{alpha:0},shot4:{alpha:0},shot5:{alpha:0},ochair_color:{alpha:0},odesk_color:{alpha:0},otable_color:{alpha:0},oplant_color:{alpha:0},olamp_color:{alpha:0},osmallplant_color:{alpha:0},obox1_color:{alpha:0},obox2_color:{alpha:0},obox3_color:{alpha:0},transition:{alpha:0,x:.07,scale:4,y:0},glibrary:{alpha:0},gcarpet:{alpha:0},gtable:{alpha:0},gpuff:{alpha:0},glamp:{alpha:0},gbasket:{alpha:0},grack:{alpha:0},gsidetable:{alpha:0},gsofa:{alpha:0},gsofa2:{alpha:0},gsillon:{alpha:0},gpic1:{alpha:0},gpic2:{alpha:0},gpic3:{alpha:0},gpic4:{alpha:0},gpic5:{alpha:0},gpic6:{alpha:0},gpic7:{alpha:0},gpic8:{alpha:0},gpic9:{alpha:0},gpic10:{alpha:0},gbigpic:{alpha:0}},start:{background:{alpha:1},color:{alpha:0},house:{x:0,y:.7,scale:1.5,alpha:1},front:{copy:"house"},color:{alpha:0}},zoomout:{background:{},house:{x:.25,y:.5,scale:.6},front:{x:.25,y:.5,scale:.6},geoback:{scale:.6*.34,x:.2,y:.57,alpha:1,visible:!1},housemask:{scale:.6*.34,x:.15,y:.57,alpha:1},housemaskend:{scale:.6*.34,x:.15,y:.57,alpha:1}},interactive:{background:{},house:{},front:{finalx:-.2,startx:.25},phonemask:{alpha:1},geoback:{visible:!0}},open:{background:{},house:{},front:{x:-.5},geoback:{scale:.6*.34,x:.2,y:.57,alpha:1}},center0:{background:{},house:{x:.5,y:.5,scale:.9},geoback:{x:.425,y:.6,scale:.9*.34}},center:{background:{},house:{x:.3,y:.5,scale:.9},geoback:{x:.425-.2,y:.6,scale:.9*.34}},zoomin:{background:{},house:{alpha:1,scale:4.9,x:1,y:-.09},geoback:{x:.5,y:.57,scale:1.4},panorama:{alpha:0,visible:!1,scale:1.6}},zoomfade:{background:{},house:{alpha:0},geoback:{},panorama:{}},geostart:{geocomplete:{visible:!1},shot1:{alpha:0},shot2:{alpha:0},shot3:{alpha:0},shot4:{alpha:0},shot5:{alpha:0},panorama:{alpha:1,scale:1,darken:0,whiten:0},seam:{alpha:0,speed:10},depth:{alpha:0,speed:10},semantic:{alpha:0,speed:10},geocomplete:{x:.5,y:.57,scale:1.4},furniturecomplete:{alpha:0}},geophoto:{geocomplete:{x:.5,y:.57,scale:1.4},panorama:{whiten:.8,speed:15},shot1:{alpha:1,speed:15,delay:.2},shot2:{alpha:1,speed:15,delay:.4},shot3:{alpha:1,speed:15,delay:.6},shot4:{alpha:1,speed:15,delay:.8},shot5:{alpha:1,speed:15,delay:1},seam:{alpha:0,visible:!1,scale:1.1}},geoseam:{shot1:{alpha:0,speed:15},shot2:{alpha:0,speed:15},shot3:{alpha:0,speed:15},shot4:{alpha:0,speed:15},shot5:{alpha:0,speed:15},seam:{alpha:1,scale:1},panorama:{darken:0,speed:15},semantic:{alpha:0},furniture:{alpha:1}},geosemantic:{panorama:{whiten:0,speed:15},seam:{alpha:0,speed:15},depth:{alpha:0,speed:15},semantic:{alpha:1}},geodepth:{panorama:{whiten:0,speed:15},semantic:{alpha:0,speed:15},depth:{alpha:.8}},geofurniture:{panorama:{whiten:0,speed:15},depth:{alpha:0,speed:15},furniture:{alpha:.3},gpic1:{alpha:1,_y:-.02,delay:1.1},gpic2:{alpha:1,_y:-.02,delay:1.2},gpic3:{alpha:1,_y:-.02,delay:1.1},gpic4:{alpha:1,_y:-.02,delay:1.3},gpic5:{alpha:1,_y:-.02,delay:1.1},gpic6:{alpha:1,_y:-.02,delay:1.4},gpic7:{alpha:1,_y:-.02,delay:1.1},gpic8:{alpha:1,_y:-.02,delay:1.2},gpic9:{alpha:1,_y:-.02,delay:.9},gpic10:{alpha:1,_y:-.02,delay:1},gbigpic:{alpha:1,_x:.01,delay:1.3},geocomplete:{alpha:0,x:.5,y:.57,scale:1.4},glibrary:{alpha:1,_x:.02,_y:.02,delay:.5},gcarpet:{alpha:1,_y:.02,delay:.7},gtable:{alpha:1},gpuff:{alpha:1,_y:-.02,delay:1},glamp:{alpha:1,_y:.02,_x:-.01,delay:1},gbasket:{alpha:1,delay:1.2},grack:{alpha:1,_x:.03,delay:2},gsidetable:{alpha:1,delay:2},gsofa:{alpha:1,_x:.02,_y:.02,delay:1.5},gsillon:{alpha:1,_y:.05,_x:-.03,delay:.8},furniturecomplete:{alpha:1}},phonein:{phone:{alpha:1,scale:.7},phonemask:{alpha:1,scale:.7*.8},phonemaskend:{alpha:1,scale:.7*.8},furniture:{scale:.6,delay:.6}},phoneout:{furniture:{scale:1},phone:{alpha:1,scale:1.6,delay:.6},phonemask:{alpha:1,scale:1.6*.8,delay:.6},phonemaskend:{alpha:1,scale:.7*.8}},georesult:{geoback:{alpha:0},geocomplete:{alpha:1},panorama:{visible:!1},furniture:{alpha:0,scale:1.6},glibrary:{alpha:0},gcarpet:{alpha:0},gtable:{alpha:0},gpuff:{alpha:0},glamp:{alpha:0},gbasket:{alpha:0},grack:{alpha:0},gsidetable:{alpha:0},gsofa:{alpha:0},gsofa2:{alpha:0},gsillon:{alpha:0},furniturecomplete:{alpha:0},gpic1:{alpha:0},gpic2:{alpha:0},gpic3:{alpha:0},gpic4:{alpha:0},gpic5:{alpha:0},gpic6:{alpha:0},gpic7:{alpha:0},gpic8:{alpha:0},gpic9:{alpha:0},gpic10:{alpha:0},gbigpic:{alpha:0}},geoend:{geocomplete:{scale:1.3},furniture:{alpha:0,visible:!1},diningback:{alpha:1,x:1.1}},geotransition:{geocomplete:{x:-.36,scale:1.2},furniture:{alpha:0,visible:!1},diningback:{alpha:1,x:.5}},geofade:{geocomplete:{alpha:0},diningback:{},furniture:{alpha:0,visible:!1},carpet:{alpha:0},fruit:{alpha:0},spieces:{alpha:0},spieces2:{alpha:0},plant:{alpha:0},table:{alpha:0},carpet:{alpha:0},lpaint1:{alpha:0},lpaint2:{alpha:0},bpaint1:{alpha:0},bpaint2:{alpha:0},bpaint3:{alpha:0},rack:{alpha:0},lamp1:{alpha:0},lamp2:{alpha:0},chair1:{alpha:0},chair2:{alpha:0},chair3:{alpha:0},chair4:{alpha:0}},dining:{diningback:{alpha:1},furniture:{alpha:0,visible:!1},fruit_color:{alpha:1,_x:-.02,speed:15,delay:.7},spieces_color:{alpha:1,_x:-.01,speed:15,delay:.6},spieces2:{alpha:1,_x:-.02,speed:15,delay:1.1},plant_color:{alpha:1,_x:.01,_y:-.01,speed:15,delay:1.5},table:{alpha:1,_y:-.03,_rotation:-5,speed:15,delay:.3},carpet:{alpha:1,_x:-.02,_rotation:5,speed:15,delay:.2},lpaint1:{alpha:1,_y:-.03,_rotation:-2,speed:15,delay:1},lpaint2:{alpha:1,_y:-.03,_rotation:1,speed:15,delay:1.1},bpaint1:{alpha:1,_y:-.03,_rotation:5,speed:15,delay:.8},bpaint2:{alpha:1,_y:-.03,_rotation:-4,speed:15,delay:.7},bpaint3:{alpha:1,_y:-.03,_rotation:3,speed:15,delay:.9},rack_color:{alpha:1,_x:-.02,speed:15,delay:.9},lamp1_color:{alpha:1,_y:-.03,_rotation:3,speed:15,delay:.6},lamp2_color:{alpha:1,_y:-.03,_rotation:-2,speed:15,delay:.5},chair1:{alpha:1,_y:-.03,_rotation:5,speed:15,delay:.8},chair1:{alpha:1,_y:-.03,_rotation:5,speed:15,delay:.8},chair2:{alpha:1,_y:-.03,_rotation:5,speed:15,delay:.7},chair3_color:{alpha:1,_y:-.03,_rotation:5,speed:15,delay:1.3},chair4_color:{alpha:1,_y:-.03,_rotation:5,speed:15,delay:1.1},transition:{alpha:0,x:.07,scale:4,y:0}},dining_option1:{chair1:{alpha:0,speed:15},chair2:{alpha:0,speed:15,delay:.3},chair1_glow:{alpha:0,speed:15},chair2_glow:{alpha:0,speed:15,delay:.3},chair1_option1:{alpha:1,_y:-.03,speed:15,delay:.8},chair2_option1:{alpha:1,_y:-.03,speed:15,delay:.7},chair1_option1_glow:{alpha:0,speed:15},chair2_option1_glow:{alpha:0,speed:15,delay:.3},chair1_option2:{alpha:0,speed:15},chair2_option2:{alpha:0,speed:15,delay:.3},chair1_option2_glow:{alpha:0,speed:15},chair2_option2_glow:{alpha:0,speed:15,delay:.3}},dining_option2:{chair1:{alpha:0,speed:15},chair2:{alpha:0,speed:15,delay:.3},chair1_glow:{alpha:0,speed:15},chair2_glow:{alpha:0,speed:15,delay:.3},chair1_option1_glow:{alpha:0,speed:15},chair2_option1_glow:{alpha:0,speed:15,delay:.3},chair1_option1:{alpha:0,speed:15},chair2_option1:{alpha:0,speed:15,delay:.3},chair1_option2:{alpha:1,_y:-.03,speed:15,delay:.8},chair2_option2:{alpha:1,_y:-.03,speed:15,delay:.7},chair1_option2_glow:{alpha:0,speed:15},chair2_option2_glow:{alpha:0,speed:15,delay:.3}},dining_option3:{chair1:{alpha:1,_y:-.03,speed:15,delay:.8},chair2:{alpha:1,_y:-.03,speed:15,delay:.7},chair1_glow:{alpha:0,speed:15},chair2_glow:{alpha:0,speed:15,delay:.3},chair1_option1_glow:{alpha:0,speed:15},chair2_option1_glow:{alpha:0,speed:15,delay:.3},chair1_option1:{alpha:0,speed:15},chair2_option1:{alpha:0,speed:15,delay:.3},chair1_option2:{alpha:0,speed:15},chair2_option2:{alpha:0,speed:15,delay:.3},chair1_option2_glow:{alpha:0,speed:15},chair2_option2_glow:{alpha:0,speed:15,delay:.3}},dining_option1_glow:{chair1:{alpha:0},chair2:{alpha:0},chair1_glow:{alpha:0},chair2_glow:{alpha:0},chair1_option1:{alpha:0},chair2_option1:{alpha:0},chair1_option1_glow:{alpha:1},chair2_option1_glow:{alpha:1},chair1_option2:{alpha:0},chair2_option2:{alpha:0},chair1_option2_glow:{alpha:0},chair2_option2_glow:{alpha:0}},dining_option2_glow:{chair1:{alpha:0},chair2:{alpha:0},chair1_glow:{alpha:0},chair2_glow:{alpha:0},chair1_option1:{alpha:0},chair2_option1:{alpha:0},chair1_option1_glow:{alpha:0},chair2_option1_glow:{alpha:0},chair1_option2:{alpha:0},chair2_option2:{alpha:0},chair1_option2_glow:{alpha:1},chair2_option2_glow:{alpha:1}},dining_option3_glow:{chair1:{alpha:0},chair2:{alpha:0},chair1_glow:{alpha:1},chair2_glow:{alpha:1},chair1_option1:{alpha:0},chair2_option1:{alpha:0},chair1_option1_glow:{alpha:0},chair2_option1_glow:{alpha:0},chair1_option2:{alpha:0},chair2_option2:{alpha:0},chair1_option2_glow:{alpha:0},chair2_option2_glow:{alpha:0}},dining_option1_unglow:{chair1_option1:{alpha:1},chair2_option1:{alpha:1},chair1_option1_glow:{alpha:0},chair2_option1_glow:{alpha:0}},dining_option2_unglow:{chair1_option2:{alpha:1},chair2_option2:{alpha:1},chair1_option2_glow:{alpha:0},chair2_option2_glow:{alpha:0}},dining_option3_unglow:{chair1:{alpha:1},chair2:{alpha:1},chair1_glow:{alpha:0},chair2_glow:{alpha:0}},diningcolor:{},office:{background:{alpha:1},officeback:{alpha:1},ocarpet:{alpha:1,_x:-.03,speed:15,delay:.7},obird:{alpha:1,_x:-.02,speed:15,delay:.5},obook1:{alpha:1,_x:.02,speed:15,delay:.6},obook2:{alpha:1,_x:.01,speed:15,_rotation:30,delay:.7},oframe2:{alpha:1,_x:-.02,speed:15,delay:.8},obox1_color:{alpha:1,_x:.02,speed:15,delay:.9},obox2_color:{alpha:1,_x:.02,speed:15,delay:.95},obox3_color:{alpha:1,_x:.025,speed:15,delay:1},opapers2:{alpha:1,_x:-.02,speed:15,delay:1.1},obook3:{alpha:1,_x:.02,speed:15,delay:1.2},obook4:{alpha:1,_x:.01,_rotation:30,speed:15,delay:1.3},ocup:{alpha:1,_x:-.02,speed:15,delay:1.4},opapers1:{alpha:1,_x:.02,speed:15,delay:1.5},odesk_color:{alpha:1,_rotation:-10,_y:-.02,_x:-.01,speed:15,delay:.8},otable_color:{alpha:1,_rotation:10,_y:-.02,speed:15,delay:1.1},oshelves2:{alpha:1,_x:-.02,speed:15,delay:.9},osmallplant_color:{alpha:1,_x:-.02,speed:15,delay:1},oplant_color:{alpha:1,_x:.03,speed:15,delay:1.2},oframe1:{alpha:1,_y:-.02,_rotation:12,speed:15,delay:.8},ochair_color:{alpha:1,_rotation:-2,_y:-.02,speed:15,delay:1.3},olamp_lamp:{alpha:1,_x:-.02,speed:15,delay:1.3},oshelves1:{alpha:1,_x:-.015,_y:-.02,speed:15,delay:1.2},oframe3:{alpha:1,_y:-.02,speed:15,delay:.9},officeref:{alpha:.2},opapers3:{alpha:1,_y:-.01,speed:15,delay:1.4},color:{scale:3.4,alpha:0,x:.85,y:.9},googlehome_glow:{alpha:1,_y:-.02,delay:1.2},lightsoff:{alpha:0}},lightsoff:{lightsoff:{alpha:.5}},lightson:{lightsoff:{alpha:0}},furniturefade:{transition:{alpha:0,x:.07,scale:4,y:0},officeback:{alpha:0,x:-.4,y:-.4,speed:15,scale:.8,speed:1}},diagonalstart:{transition:{alpha:1,x:.07,scale:4,y:0,speed:15},officeback:{alpha:1,speed:15,x:-.4,y:-.4}},diagonalplay:{officeback:{alpha:1,x:.5,y:.5,scale:1},diningfurniture:{alpha:1,x:.8,y:.8,scale:1},transition:{alpha:1,scale:3.5,x:.8556,y:.94},diningback:{x:.5,y:.5}},diagonalfade:{transition:{alpha:0,speed:15},diningback:{alpha:0,speed:15}},lastscreen:{officeback:{alpha:0,speed:10},ocarpet:{alpha:0,speed:10},obird:{alpha:0,speed:10},obook1:{alpha:0,speed:10},obook2:{alpha:0,speed:10},oframe2:{alpha:0,speed:10},obox1_color:{alpha:0,speed:10},obox2_color:{alpha:0,speed:10},obox3_color:{alpha:0,speed:10},opapers2:{alpha:0,speed:10},obook3:{alpha:0,speed:10},obook4:{alpha:0,speed:10},ocup:{alpha:0,speed:10},opapers1:{alpha:0,speed:10},odesk_color:{alpha:0,speed:10},otable_color:{alpha:0,speed:10},oshelves2:{alpha:0,speed:10},osmallplant_color:{alpha:0,speed:10},oplant_color:{alpha:0,speed:10},oframe1:{alpha:0,speed:10},ochair_color:{alpha:0,speed:10},olamp_lamp:{alpha:0,speed:10},oshelves1:{alpha:0,speed:10},oframe3:{alpha:0,speed:10},opapers3:{alpha:0,speed:10},color:{scale:.8,alpha:1,x:.7,y:.55},googlehome:{alpha:0},googlehome_glow:{alpha:0}}},timers={},SiteCallbacks={splash:function(){GoogleDemoApp.instance.blockKeysAndScroll(!0),$("body").addClass("scroll-lock")},start:function(){$("body").removeClass("scroll-lock"),Background.play("start")},"start:subheadline--2":function(){Background.play("zoomout"),resetButtonPos(),GoogleDemoApp.instance.enableScrolling=!0,setTimeout(function(){$("#slideButton, #slideButtonEnd").removeClass("animate")},2e3),$("#scrollText").removeClass("active scroll--only-text scroll--white")},"[AFTER] start:subheadline--2":function(){setTimeout(function(){GoogleDemoApp.instance.blockKeysAndScroll(!1)},2e3)},"start:subheadline--2 subopenmode":function(){Background.play("open"),AnimateDrag(),GoogleDemoApp.instance.timeOpen("stages.intro.0",.5),GoogleDemoApp.instance.blockKeysAndScroll(!0)},"[AFTER] start:subheadline--2 subopenmode":function(){},"stages.intro.0":function(){setTimeout(function(){GoogleDemoApp.instance.blockKeysAndScroll(!1)},2e3),updateStageBtn(0,0),$("#scrollText").addClass("active")},"[AFTER] stages.intro.0":function(){resetAllTooltips(),Background.play("center")},"[BEFORE] stages.intro.1":function(){GoogleDemoApp.instance.blockKeysAndScroll(!0),Background.play("zoomin")},"stages.intro.1":function(){updateStageBtn(0,1),$("#scrollText").addClass("scroll--only-text"),GoogleDemoApp.instance.timeNextSection(5)},"stages.intro.2":function(){updateStageBtn(0,2),GoogleDemoApp.instance.timeNextSection(5)},"[BEFORE] stages.geomagical.0":function(){},"stages.geomagical.0":function(){updateStageBtn(1,0),$(".privacy-desktop").removeClass("privacy--white"),$("#scrollText").removeClass("scroll--white"),GoogleDemoApp.instance.blockKeysAndScroll(!1),resetAllTooltips()},"[AFTER] stages.geomagical.0":function(){},"stages.geomagical.1":function(){Background.play("geostart"),updateStageBtn(1,1),$("#stageNavigation").addClass("stage-nav--white"),$(".privacy-desktop").addClass("privacy--white"),$("#scrollText").addClass("scroll--white"),resetAllTooltips()},"[AFTER] stages.geomagical.1":function(){$(".step--1 .deep-dive__list li .radio-check").removeClass("checked")},"[BEFORE] stages.geomagical.1:subclose":function(){Background.play("geostart")},"[AFTER] stages.geomagical.1:subclose":function(){GoogleDemoApp.instance.timeOpen("stages.geomagical.2",.5)},"[BEFORE] stages.geomagical.1:sublines":function(){$(".step--1 .deep-dive__list li .radio-check").first().addClass("checked"),$(".privacy-desktop").removeClass("privacy--white"),$("#scrollText").removeClass("scroll--white"),Background.play("geophoto"),resetTooltip("#tooltipLine")},"[BEFORE] stages.geomagical.1:subparalax":function(){$(".step--1 .deep-dive__list li .radio-check").last().addClass("checked"),$(".privacy-desktop").addClass("privacy--white"),$("#scrollText").addClass("scroll--white"),Background.play("geoseam"),resetTooltip("#tooltipLine",!1),resetTooltip("#tooltipParallax")},"[BEFORE] stages.geomagical.2":function(){$(".step--2 .deep-dive__list li .radio-check").removeClass("checked"),Background.play("geostart")},"stages.geomagical.2":function(){updateStageBtn(1,2),$("#stageNavigation").addClass("stage-nav--white"),$(".privacy-desktop").addClass("privacy--white"),$("#scrollText").addClass("scroll--white"),resetAllTooltips()},"[BEFORE] stages.geomagical.2:subclose":function(){Background.play("geostart")},"[AFTER] stages.geomagical.2:subclose":function(){GoogleDemoApp.instance.timeOpen("stages.geomagical.3",.5)},"[BEFORE] stages.geomagical.2:subdepth":function(){$(".step--2 .deep-dive__list li .radio-check").first().addClass("checked"),Background.play("geodepth"),resetTooltip("#tooltipDepth")},"[BEFORE] stages.geomagical.2:subsemantic":function(){$(".step--2 .deep-dive__list li .radio-check").last().addClass("checked"),Background.play("geosemantic"),resetTooltip("#tooltipDepth",!1),resetTooltip("#tooltipSegmentation")},"[BEFORE] stages.geomagical.3":function(){$(".step--3 .deep-dive__list li .radio-check").removeClass("checked"),Background.play("geostart")},"stages.geomagical.3":function(){updateStageBtn(1,3),$("#stageNavigation").addClass("stage-nav--white"),$(".privacy-desktop").addClass("privacy--white"),$("#scrollText").addClass("scroll--white"),resetAllTooltips()},"[BEFORE] stages.geomagical.3:subfurniture":function(){$("#geomagicalVideo").element.pause(),$("#geomagicalVideo").element.currentTime=0,$("#geomagicalVideo").addClass("active")},"stages.geomagical.3:subfurniture":function(){$(".step--3 .deep-dive__list li .radio-check").first().addClass("checked"),$("#geomagicalVideo").addClass("animate"),setTimeout(function(){$("#geomagicalVideo").element.play()},800),Background.playDelay("geofurniture",14.8),setTimeout(function(){$("#geomagicalVideo").removeClass("animate")},15800),resetTooltip("#tooltipRealistic")},"[AFTER] stages.geomagical.3:subclose":function(){GoogleDemoApp.instance.blockKeysAndScroll(!0),resetTooltip("#tooltipRealistic",!1),Background.clearQueue(),Background.play("geofurniture"),$("#geomagicalVideo").removeClass("animate"),GoogleDemoApp.instance.timeOpen("stages.geomagical.4",.5)},"[BEFORE] stages.geomagical.4":function(){$(".tooltip").removeClass("animate")},"stages.geomagical.4":function(){$("#stageNavigation").removeClass("fadeOut"),$("#stageNavigation").removeClass("stage-nav--white"),$(".privacy-desktop").removeClass("privacy--white"),$("#scrollText").removeClass("scroll--white"),Background.play("phonein"),Background.playDelay("furniturein",.3),updateStageBtn(1,4),GoogleDemoApp.instance.timeNextSection(5),resetAllTooltips()},"stages.geomagical.4:phoneout":function(){Background.clearQueue(),Background.play("furnitureout"),Background.playDelay("phoneout",.4),Background.playDelay("georesult",1.5),GoogleDemoApp.instance.timeNextSection(2.5)},"[BEFORE] stages.geomagical.4:change":function(){Background.clearQueue(),Background.play("geoend");Background.playDelay("geotransition",2.5),Background.playDelay("geofade",3.9),GoogleDemoApp.instance.timeNextSection(3.9)},"stages.recommendations.0":function(){Background.clearQueue(),resetAllTooltips(),$("#stageNavigation").removeClass("fadeOut")},"[AFTER] stages.recommendations.0":function(){GoogleDemoApp.instance.blockKeysAndScroll(!1),GoogleDemoApp.instance.chairIndex=0,Background.play("dining"),updateStageBtn(2,0)},"stages.recommendations.1":function(){updateStageBtn(2,1)},"stages.recommendations.2":function(){Background.play("dining_option3_glow"),updateStageBtn(2,2),GoogleDemoApp.instance.switchedChairs=!1,resetTooltip("#tooltipVisionSearch",!1)},"[BEFORE] stages.recap.0":function(){GoogleDemoApp.instance.blockKeysAndScroll(!0),$("#stageNavigation").removeClass("fadeOut"),Background.play("furniturefade"),Background.playDelay("diagonalstart",.3),Background.playDelay("diagonalplay",.6),Background.playDelay("diagonalfade",1.2),Background.playDelay("office",1.5),setTimeout(function(){GoogleDemoApp.instance.blockKeysAndScroll(!1)},3e3)},"stages.recap.0":function(){updateStageBtn(3,0),resetAllTooltips()},"[BEFORE] stages.recap.1":function(){$("#stageNavigation").addClass("fadeOut")},"stages.recap.1":function(){Background.clearQueue(),Background.play("lastscreen")},"stagesmobile.intromobile":function(){$("#mobileHouse").removeClass("fadeOut")},"[BEFORE] stagesmobile.geomagicalmobile":function(){$("#mobileHouse").addClass("fadeOut")},"[BEFORE] stagesmobile.recommendationsmobile":function(){$("#mobileHouse").addClass("fadeOut")},"[BEFORE] stagesmobile.recapmobile":function(){$("#mobileHouse").addClass("fadeOut")}};const SHARE_URL="https://showcase.withgoogle.com/ikea",SHARE_TEXT="https://showcase.withgoogle.com/ikea",toggleElement=document.querySelector(".js-share-toggle"),shareOptionsElement=document.querySelector(".js-share-options"),shareLinks=[];Array.prototype.forEach.call(document.querySelectorAll("[data-share]"),function(e){shareLinks.push(e)});let shareOpen=!1;function toggleShare(){shareOpen=!shareOpen,updateShareVisiblity()}function updateShareVisiblity(){shareOptionsElement.classList.toggle("is-active",shareOpen),toggleOutsideShareClick(shareOpen)}function handleWindowClick(e){shareOptionsElement.contains(e.target)||toggleElement.contains(e.target)||!shareOpen||(shareOpen=!1,updateShareVisiblity())}function toggleOutsideShareClick(e){e?document.addEventListener("click",handleWindowClick,!1):document.removeEventListener("click",handleWindowClick,!1)}function share(e){switch(e){default:case"twitter":openShare("https://twitter.com/intent/tweet?text=Learn how IKEA uses Google Cloud to bring the uniqueness of their brand to life digitally, and improve people’s lives at home. @IngkaGroup @googlecloud &url="+encodeURIComponent(SHARE_URL));break;case"facebook":openShare("https://www.facebook.com/sharer.php?display=popup&quote=Learn how IKEA uses Google Cloud to bring the uniqueness of their brand to life digitally, and improve people’s lives at home.&u="+encodeURIComponent(SHARE_URL));break;case"linkedin":openShare("https://www.linkedin.com/shareArticle?mini=true&title=Learn how IKEA uses Google Cloud to bring the uniqueness of their brand to life digitally, and improve people’s lives at home. @&url="+encodeURIComponent(SHARE_URL));break;case"copy":copyToClipboard(SHARE_URL)}}function openShare(e){window.open(e,"shared","status=no,resizable=no,width=640,height=480,toolbar=no,menubar=no,scrollbars=no,location=no,directories=no")}function copyToClipboard(e){const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}toggleElement&&toggleElement.addEventListener("click",toggleShare),Array.prototype.forEach.call(shareLinks,function(e){e.addEventListener("click",function(t){t.preventDefault(),share(e.getAttribute("data-share"))})});var slideButton=$("#slideButton"),slideButtonEnd=$("#slideButtonEnd"),sliderDots=$("#sliderDots"),mousePosition={},startDrag=!1,goBackAnimation=null;function AnimateDrag(){mousePosition.max=slideButtonEnd.element.offsetLeft,mousePosition.bVal=new Number(slideButton.css("left").split("px")[0]),goFowardAnimation=setInterval(function(){mousePosition.bVal+=(mousePosition.max-mousePosition.bVal)/5,slideButton.css({left:mousePosition.bVal+"px"}),sliderDots.css({width:mousePosition.max-47-mousePosition.bVal+"px"}),mousePosition.bVal>=mousePosition.max-1&&clearInterval(goFowardAnimation)},1e3/30)}function resetButtonPos(){mousePosition.max=slideButtonEnd.element.offsetLeft,slideButton.css({left:"0px"}),sliderDots.css({width:mousePosition.max-47+"px"})}function fireMouseUp(e){startDrag=!1,slideButtonEnd.element.offsetLeft-slideButton.element.offsetLeft<50?(slideButton.css({left:slideButtonEnd.element.offsetLeft+"px"}),"mobile"==GoogleDemoApp.instance.mode?GoogleDemoApp.instance.open("stagesmobile.intromobile"):GoogleDemoApp.instance.open("stages.intro.0"),Background.play("open")):goBackAnimation=setInterval(function(){var e=new Number(slideButton.css("left").split("px")[0]);slideButton.css({left:e/2+"px"}),sliderDots.css({width:mousePosition.max-47-e/2+"px"}),e<1&&clearInterval(goBackAnimation)},1e3/30),$(document).off("mouseup",fireMouseUp),$(document).off("touchend",fireMouseUp)}var mDown=function(e){$(document).on("mouseup",fireMouseUp),$(document).on("touchend",fireMouseUp),startDrag=!0,mousePosition.startx=e.clientX||event.touches[0].clientX,mousePosition.max=slideButtonEnd.element.offsetLeft;var t=Math.max(Math.min(e.clientX-mousePosition.startx,mousePosition.max),0);sliderDots.css({width:mousePosition.max-47-t+"px"}),slideButton.css({left:t+"px"})};slideButton.on("touchstart",mDown),slideButton.on("mousedown",mDown),slideButton.on("click",function(){GoogleDemoApp.instance.open("start:subheadline--2 subopenmode")});var mMove=function(e){if(startDrag){var t=e.clientX||event.touches[0].clientX,a=Math.max(Math.min(t-mousePosition.startx,mousePosition.max),0);sliderDots.element.offsetWidth;slideButton.css({left:a+"px"}),sliderDots.css({width:mousePosition.max-47-a+"px"})}};function updateStageBtn(e,t){for(var a=document.getElementsByClassName("stage-btn"),o=0;o<a.length;o++){var i=a[o].parentNode.getElementsByClassName("stage-nav__step");if(o<e){a[o].parentNode.classList.remove("current"),a[o].parentNode.classList.add("done");for(var s=0;s<i.length;s++)i[s].classList.add("done"),i[s].classList.remove("current")}else if(o==e){a[o].parentNode.classList.add("current"),a[o].parentNode.classList.remove("done");for(s=0;s<i.length;s++)s<t?(i[s].classList.remove("current"),i[s].classList.add("done")):s==t?(i[s].classList.add("current"),i[s].classList.remove("done")):i[s].classList.remove("current","done")}else{a[o].parentNode.classList.remove("current","done");for(s=0;s<i.length;s++)i[s].classList.remove("done","current")}}}slideButton.on("mousemove",mMove),slideButton.on("touchmove",mMove),$(".googleHomeButton").click(function(){GoogleDemoApp.instance.showEasterEgg()}),document.getElementById("geomagicalBtn").addEventListener("click",function(){document.getElementById("stagegeomagicalmobile").getElementsByClassName("steps-overlay")[0].classList.add("active"),$("body").addClass("scroll-lock")}),document.getElementById("recomendationsMobile").addEventListener("click",function(){document.getElementById("stagerecommendationsmobile").getElementsByClassName("steps-overlay")[0].classList.add("active"),$("body").addClass("scroll-lock")}),document.getElementById("recapMobile").addEventListener("click",function(){document.getElementById("stagerecapmobile").getElementsByClassName("steps-overlay")[0].classList.add("active"),$("body").addClass("scroll-lock")}),window.addEventListener("resize",function(){GoogleDemoApp.instance.resize()}),$(document).on("wheel",function(e){if(!$("body").hasClass("mobile"))if($("body").hasClass("mac-os")){var t=e.deltaY;if(Math.abs(t)<70)return;t<-70?GoogleDemoApp.instance.prevSectionProxy():t>70&&GoogleDemoApp.instance.nextSectionProxy()}else{t=e.deltaY;if(Math.abs(t)<80)return;t<-90?GoogleDemoApp.instance.prevSectionProxy():t>80&&GoogleDemoApp.instance.nextSectionProxy()}}),$("#changeChairs").click(function(e){GoogleDemoApp.instance.switchChairs()}),$(".steps-overlay__back").click(function(e){$(this).parent().removeClass("active"),$("body").removeClass("scroll-lock")}),$(".platform").on("click",function(){$("body").hasClass("mobile")&&($(this).hasClass("active")?$(this).removeClass("active"):($(".platform").removeClass("active"),$(this).addClass("active")))});var tooltips_selector="#tooltipLine .pulsar-btn";function resetTooltip(e,t){void 0===t&&(t=!0);var a=$(e);$(".tooltip").removeClass("active animate"),a.find(".tooltip__content").removeClass("active"),a.removeClass("tooltip--detail"),a.removeClass("hover"),a.find(".material-icons").html("add"),t?(a.addClass("active"),setTimeout(function(e){e.addClass("animate")},100,a)):(a.removeClass("active"),a.removeClass("animate"))}function resetAllTooltips(){resetTooltip("#tooltipLine",!1),resetTooltip("#tooltipParallax",!1),resetTooltip("#tooltipDepth",!1),resetTooltip("#tooltipSegmentation",!1),resetTooltip("#tooltipRealistic",!1),resetTooltip("#tooltipVisionSearch",!1)}tooltips_selector+=", #tooltipParallax .pulsar-btn",tooltips_selector+=", #tooltipDepth .pulsar-btn",tooltips_selector+=", #tooltipSegmentation .pulsar-btn",tooltips_selector+=", #tooltipRealistic .pulsar-btn",$(tooltips_selector+=", #tooltipVisionSearch .pulsar-btn").on("mouseenter",function(){var e=$(this).parent().parent();e.hasClass("hover")||(e.addClass("hover"),clearTimeout(timers.ttdetail),timers.ttdetail=setTimeout(function(e){e.addClass("tooltip--detail")},500,e),clearTimeout(timers.ttcontent),timers.ttcontent=setTimeout(function(e){e.find(".tooltip__content").addClass("active"),e.find(".material-icons").html("remove")},1e3,e))}),$(tooltips_selector).on("click",function(){var e=$(this).parent().parent();e.hasClass("hover")&&(e.find(".tooltip__content").removeClass("active"),clearTimeout(timers.ttdetail),timers.ttdetail=setTimeout(function(e){e.removeClass("tooltip--detail")},350,e),clearTimeout(timers.ttcontent),timers.ttcontent=setTimeout(function(e){e.removeClass("hover"),e.find(".material-icons").html("add")},850,e))});var scrollingDown=0,scrollingDownDelta=0;$(document).on("keydown",function(e){39==e.keyCode&&GoogleDemoApp.instance.nextSectionProxy(),37==e.keyCode&&GoogleDemoApp.instance.prevSectionProxy()}),$(".btn").on("mouseenter",function(e){var t=$(this).offset(),a=e.pageX-t.left,o=e.pageY-t.top;$(this).find(".anim").css({top:o,left:a})}).on("mouseout",function(e){var t=$(this).offset(),a=e.pageX-t.left,o=e.pageY-t.top;$(this).find(".anim").css({top:o,left:a})}),$(".steps-scroll").on("touchstart",function(e){scrollingDown=0==$(".steps-overlay.active").scrollTop()?e.originalEvent.touches[0].clientY:0}),$(".steps-scroll").on("touchmove",function(e){scrollingDownDelta=e.originalEvent.touches[0].clientY-scrollingDown}),$(".steps-scroll").on("touchend",function(e){$(".steps-overlay.active").length>0&&0!=scrollingDown&&scrollingDownDelta>200&&0==$(".steps-overlay.active").scrollTop()&&(scrollingDownDelta=0,scrollingDown=0,$(".steps-overlay.active").removeClass("active"),$("body").removeClass("scroll-lock"))});var Background=new CanvasEngine("backgroundCanvas",{folder:"/ikea/renders/"});Background.queuePlays=[],Background.animationList=["initial","start","zoomout","open","center","zoomin","zoomfade","geostart","geophoto","geoseam","geosemantic","geostart","geodepth","geofurniture","phonein","phoneout","georesult","geoend","geotransition","geofade","dining","office","diagonalstart","diagonalplay","diagonalfade","lastscreen"],Background.addSprite("background.png",{size:"fill"}),Background.setGroup("diningfurniture"),Background.addSprite("dining/background.jpg",{key:"diningback",pivot:"center",position:"center"}),Background.addSpriteSheet("dining/elements.png",[{key:"bpaint1",crop:[6,0,1,1],pivot:{x:.5,y:.5},x:.565,y:.41},{key:"bpaint2",crop:[6,1,1,1],pivot:{x:.5,y:.5},x:.588,y:.455},{key:"bpaint3",crop:[0,7,4,2],pivot:{x:.5,y:.5},x:.49,y:.432},{key:"rack",crop:[10,0,6,8],pivot:{x:.95,y:.98},x:.731,y:.797},{key:"lamp1",crop:[7,3,2,6],pivot:{x:.51,y:.17},x:.455,y:.135},{key:"lamp2",crop:[7,3,2,6],pivot:{x:.51,y:.17},x:.56,y:.135},{key:"plant",crop:[0,1,3,6],pivot:{x:.5,y:.9},x:.203,y:.878},{key:"carpet",crop:[0,14,13,2],pivot:{x:.5,y:.5},x:.504,y:.845},{key:"chair3",crop:[7,0,3,3],pivot:{x:.34,y:.93},x:.323,y:.863},{key:"chair4",crop:[4,5,3,4],pivot:{x:.5,y:.93},x:.681,y:.863},{key:"lpaint1",crop:[4,0,2,2],pivot:{x:.5,y:.5},x:.18,y:.4},{key:"lpaint2",crop:[4,2,1,2],pivot:{x:.5,y:.5},x:.145,y:.458}]),Background.addSpriteSheet("dining/chairs.png",[{key:"chair1",crop:[0,11,4,5],pivot:{x:.45,y:.93},x:.44,y:.83},{key:"chair2",crop:[0,6,4,5],pivot:{x:.59,y:.95},x:.57,y:.8365},{key:"chair1_option1",crop:[0,0,5,6],pivot:{x:.51,y:.88},x:.4525,y:.83},{key:"chair2_option1",crop:[5,0,5,6],pivot:{x:.63,y:.88},x:.586,y:.8365},{key:"chair1_option2",crop:[4,11,5,5],pivot:{x:.32,y:.94},x:.4225,y:.83},{key:"chair2_option2",crop:[4,6,5,5],pivot:{x:.61,y:.93},x:.586,y:.84}]),Background.addSpriteSheet("dining/chairsglow.png",[{key:"chair1_glow",crop:[0,11,4,5],pivot:{x:.45,y:.93},x:.44,y:.83},{key:"chair2_glow",crop:[0,6,4,5],pivot:{x:.59,y:.95},x:.57,y:.8365},{key:"chair1_option1_glow",crop:[0,0,5,6],pivot:{x:.51,y:.88},x:.4525,y:.83},{key:"chair2_option1_glow",crop:[5,0,5,6],pivot:{x:.63,y:.88},x:.586,y:.8365},{key:"chair1_option2_glow",crop:[4,11,5,5],pivot:{x:.32,y:.94},x:.4225,y:.83},{key:"chair2_option2_glow",crop:[4,6,5,5],pivot:{x:.61,y:.93},x:.586,y:.84}]),Background.addSpriteSheet("dining/elements.colors.png",[{key:"rack_color",crop:[10,0,6,8],pivot:{x:.95,y:.98},x:.731,y:.797},{key:"lamp1_color",crop:[7,3,2,6],pivot:{x:.51,y:.17},x:.455,y:.135},{key:"lamp2_color",crop:[7,3,2,6],pivot:{x:.51,y:.17},x:.56,y:.135},{key:"plant_color",crop:[0,1,3,6],pivot:{x:.5,y:.9},x:.203,y:.878},{key:"chair3_color",crop:[7,0,3,3],pivot:{x:.34,y:.93},x:.323,y:.863},{key:"chair4_color",crop:[4,5,3,4],pivot:{x:.5,y:.93},x:.681,y:.863}]),Background.addSpriteSheet("dining/elements.png",[{key:"table",crop:[0,9,8,5],pivot:{x:.035,y:.9},x:.3913,y:.8652}]),Background.addSpriteSheet("dining/elements.colors.png",[{key:"fruit_color",crop:[0,0,2,1],pivot:{x:.5,y:1},x:.485,y:.629},{key:"spieces_color",crop:[2,0,2,1],pivot:{x:.5,y:1},x:.573,y:.624}]),Background.closeGroup(),Background.addSprite("office/background.png",{key:"officeback",pivot:"center",position:"center"}),Background.addSpriteSheet("office/elements.png",[{key:"oframe1",crop:[12,4,4,3],pivot:{x:.5,y:.5},x:.39,y:.5},{key:"ochair",crop:[0,2,3,5],pivot:{x:.48,y:.95},x:.402,y:.815},{key:"oshelves2",crop:[12,0,4,4],pivot:{x:.5,y:.95},x:.632,y:.799},{key:"ocarpet",crop:[0,14,12,2],pivot:{x:.5,y:.5},x:.45,y:.843},{key:"odesk",crop:[0,9,9,5],pivot:{x:.2,y:.88},x:.36,y:.858},{key:"otable",crop:[9,8,7,4],pivot:{x:.93,y:.82},x:.611,y:.872},{key:"oplant",crop:[3,4,2,5],pivot:{x:.5,y:.95},x:.207,y:.885},{key:"olamp",crop:[5,2,4,4],pivot:{x:.735,y:.73},x:.566,y:.625},{key:"oshelves1",crop:[9,0,3,5],pivot:{x:.87,y:.97},x:.793,y:.87},{key:"oframe2",crop:[0,0,2,2],pivot:{x:.48,y:.88},x:.47,y:.307},{key:"oframe3",crop:[7,6,1,2],pivot:{x:.5,y:.5},x:.801,y:.35},{key:"osmallplant",crop:[3,2,1,2],pivot:{x:.5,y:1},x:.61,y:.584},{key:"obox2",crop:[6,1,3,1],pivot:{x:.5,y:.88},x:.543,y:.27},{key:"obox1",crop:[2,0,2,1],pivot:{x:.5,y:.88},x:.542,y:.309},{key:"obox3",crop:[4,0,3,1],pivot:{x:.5,y:.98},x:.625,y:.307},{key:"opapers1",crop:[0,7,3,1],pivot:{x:.5,y:.81},x:.573,y:.367},{key:"opapers2",crop:[4,1,2,1],pivot:{x:.5,y:1},x:.348,y:.367},{key:"opapers3",crop:[5,7,2,1],pivot:{x:.5,y:.65},x:.43,y:.63},{key:"obird",crop:[2,1,1,1],pivot:{x:.47,y:.95},x:.357,y:.309},{key:"obook1",crop:[7,0,1,1],pivot:{x:.47,y:1},x:.395,y:.309},{key:"obook2",crop:[4,3,1,1],pivot:{x:.9,y:1},x:.43,y:.309},{key:"obook3",crop:[5,6,1,1],pivot:{x:.5,y:1},x:.422,y:.369},{key:"obook4",crop:[6,6,1,1],pivot:{x:.85,y:1},x:.44,y:.369},{key:"ocup",crop:[3,1,1,1],pivot:{x:.5,y:1},x:.47,y:.368}]),Background.addSpriteSheet("office/elements.colors.png",[{key:"ochair_color",crop:[0,2,3,5],pivot:{x:.48,y:.95},x:.402,y:.815},{key:"odesk_color",crop:[0,9,9,5],pivot:{x:.2,y:.88},x:.36,y:.858},{key:"otable_color",crop:[9,8,7,4],pivot:{x:.93,y:.82},x:.611,y:.872},{key:"oplant_color",crop:[3,4,2,5],pivot:{x:.5,y:.95},x:.207,y:.885},{key:"olamp_color",crop:[5,2,4,4],pivot:{x:.735,y:.73},x:.566,y:.625},{key:"osmallplant_color",crop:[3,2,1,2],pivot:{x:.5,y:1},x:.61,y:.584},{key:"obox2_color",crop:[6,1,3,1],pivot:{x:.5,y:.88},x:.543,y:.27},{key:"obox1_color",crop:[2,0,2,1],pivot:{x:.5,y:.88},x:.542,y:.309},{key:"obox3_color",crop:[4,0,3,1],pivot:{x:.5,y:.98},x:.625,y:.307}]),Background.addSpriteSheet("dining/chairsglow.png",[{key:"googlehome_glow",crop:[9,6,1,1],pivot:{x:.5,y:.5},x:.76,y:.578}]),Background.addSprite("office/lightsoff.png",{key:"lightsoff",pivot:"center",position:"center",width:.72}),Background.addMask({key:"phonemask",pivot:"center",position:"center",width:.8,height:.38,aspect:.475}),Background.addSprite("geomagical/background.png",{key:"geoback",pivot:"center",scale:.17,x:.15,y:.57}),Background.addSprite("house/backhole.png",{key:"house",pivot:"center",x:-2,y:.7,scale:1.5}),Background.addSprite("house/front.png",{key:"front",pivot:"center",x:-2,y:.7,scale:1.5}),Background.setGroup("furniture"),Background.addSprite("geomagical/panorama.jpg",{key:"panorama",pivot:"center",position:"center"});var APPController,shotSize=.18,shotPos=.2;function GoogleDemoApp(e){this.config=e,this._blockKeysAndScroll=!1,this.currentSlug="",this.callbacks=e.callbacks||{},this.inited=!1,this.enableScrolling=!1,GoogleDemoApp.instance=this,this.partialPrefix="sub",this.wordAnimationClasses="headline-animation",this.debug=!1,this.sectionIndex=0,this.sectionBackIndex=0,this.backIndex=0,this.switchedChairs=!1,this.chairIndex=0,this.path=[],this.showingEasterEgg=!1,this.pathElements=["section","stage","step"],this.sections=["start","stages","outro"],this.navigationSequence=["start","start:subheadline--2","start:subheadline--2 subopenmode","stages.intro.0","stages.intro.1","stages.intro.2","stages.geomagical.0","stages.geomagical.1","stages.geomagical.1:sublines","stages.geomagical.1:subparalax","stages.geomagical.1:subclose","stages.geomagical.2","stages.geomagical.2:subdepth","stages.geomagical.2:subsemantic","stages.geomagical.2:subclose","stages.geomagical.3","stages.geomagical.3:subfurniture","stages.geomagical.3:subclose","stages.geomagical.4","stages.geomagical.4:phoneout","stages.geomagical.4:change","stages.recommendations.0","stages.recommendations.1","stages.recommendations.2","stages.recap.0","stages.recap.1"],this.backNavigationSequence=["start:subheadline--2","stages.intro.0","stages.geomagical.0","stages.geomagical.1","stages.geomagical.2","stages.geomagical.3","stages.recommendations.0","stages.recap.0"],this.backBckgrounds=["zoomout","zoomin","zoomfade","geostart","geostart","geostart","geofade","office"],this.init()}Background.addSprite("geomagical/shot1.png",{key:"shot1",pivot:"center",width:shotSize,x:0*shotPos+.1,y:.5}),Background.addSprite("geomagical/shot2.png",{key:"shot2",pivot:"center",width:shotSize,x:1*shotPos+.1,y:.5}),Background.addSprite("geomagical/shot3.png",{key:"shot3",pivot:"center",width:shotSize,x:2*shotPos+.1,y:.5}),Background.addSprite("geomagical/shot4.png",{key:"shot4",pivot:"center",width:shotSize,x:3*shotPos+.1,y:.5}),Background.addSprite("geomagical/shot5.png",{key:"shot5",pivot:"center",width:shotSize,x:4*shotPos+.1,y:.5}),Background.addSprite("geomagical/seam.jpg",{key:"seam",pivot:"center",position:"center"}),Background.addSprite("geomagical/semantic.png",{key:"semantic",pivot:"center",position:"center"}),Background.addSprite("geomagical/depth.png",{key:"depth",pivot:"center",position:"center"}),Background.addSprite("geomagical/background.furniture.png",{key:"geocomplete",pivot:"center",position:"center",skipGroup:!0}),Background.addSprite("geomagical/furniture.jpg",{key:"furniturecomplete",pivot:"center",position:"center"}),Background.closeGroup(),Background.addMask({key:"phonemaskend",maskReset:!0}),Background.addSprite("geomagical/googlepixel.png",{key:"phone",pivot:"center",position:"center"}),Background.addSprite("house/backholetransition.png",{key:"transition",pivot:"center",x:.07,scale:4,y:0}),Background.addSprite("house/color.png",{key:"color",pivot:"center",position:"center",alpha:0}),Background.currentSlug="none",Background.lastSlug="none",setTimeout(function(){Background.init()},500),Background.start=function(){for(var e in AnimationData.initial){var t=this.sprites[e];if(t){var a=AnimationData.initial[e];if(a)for(var o in t.visible=!0,null!=a.copy&&(a=AnimationData.initial[a.copy]),a)t[o]=t.final[o]=a[o];else t.visible=!1}}GoogleDemoApp.instance.open("start"),this.resize()},Background.set=function(e){for(var t=0;t<Background.animationList.length;t++)if(Background.setPartial(Background.animationList[t]),e==Background.animationList[t+1]){Background.play(Background.animationList[t+1]);break}},Background.setPartial=function(e){for(var t in this.currentSlug=e,this.currentAnimation={},AnimationData[this.currentSlug]){var a=AnimationData[this.currentSlug][t];for(var o in this.currentAnimation[t]={},a)this.currentAnimation[t][o]=a[o]}for(var i in this.currentAnimation){var s=this.sprites[i];if(s)if(s.needsUpdate=!0,t=this.currentAnimation[i]){null!=t.visible?s.visible=t.visible:s.visible=!0;for(var n in t)if("copy"!=n&&"visible"!=n)if("pivot"==n)null==s.final.pivot&&(s.final.pivot={}),s.pivot.x=s.final.pivot.x=t.pivot.x,s.pivot.y=s.final.pivot.y=t.pivot.y;else if("_"==n[0]){var l=n;n=n.substring(1),s.initial[n]=t[l],delete t[l],s[n]=s.final[n]=t[n]}else s[n]=s.final[n]=t[n];if(null!=t.copy)for(var n in t=this.currentAnimation[t.copy])"visible"!=n&&"pivot"!=n&&(s[n]=t[n],s.final[n]=t[n])}else s.visible=!1}},Background.clearQueue=function(){for(var e in this.queuePlays)this.queuePlays[e]&&(clearTimeout(this.queuePlays[e]),delete this.queuePlays[e],Background.set(e))},Background.playDelay=function(e,t){t>0&&(this.queuePlays[e]=setTimeout(function(e){Background.play(e)},1e3*t,e))},Background.play=function(e,t){for(var a in null!=t&&alert("SETEASTE UNA ANIMACION CON DELAY"),this.queuePlays[e]&&(clearTimeout(this.queuePlays[e]),delete this.queuePlays[e]),this.currentSlug=e,this.currentAnimation={},AnimationData[this.currentSlug]){var o=AnimationData[this.currentSlug][a];for(var i in this.currentAnimation[a]={},o)this.currentAnimation[a][i]=o[i],"delay"==i&&(this.currentAnimation[a].hasDelay=!0)}},Background.logic=function(){for(var e in this.currentAnimation){var t=this.sprites[e];if(t){t.needsUpdate=!0;var a=this.currentAnimation[e];if(a){null!=a.visible?t.visible=a.visible:t.visible=!0;for(var o in a)if("copy"!=o&&"visible"!=o)if("pivot"==o)null==t.final.pivot&&(t.final.pivot={}),t.final.pivot.x=a.pivot.x,t.final.pivot.y=a.pivot.y;else if("_"==o[0]){var i=o;o=o.substring(1),t.initial[o]=a[i],delete a[i]}else"delay"==o?(a.hasDelay&&(t.resetDelay(),a.hasDelay=!1),t.final[o]=a[o]):t.final[o]=a[o];if(null!=a.copy)for(var o in a=this.currentAnimation[a.copy])"visible"!=o&&"pivot"!=o&&(t.final[o]=a[o])}else t.visible=!1}}},GoogleDemoApp.prototype.report=function(e){return this.log(e,"error"),!1},GoogleDemoApp.prototype.showEasterEgg=function(){this.showingEasterEgg||($("#stagerecap .step--0").addClass("easteregg--in"),this.showingEasterEgg=!0,$(".easteregg .bubbles").addClass("active"),$(".easteregg").addClass("active"),$(".easteregg .bubble").get(3).addClass("active"),setTimeout(function(){$(".easteregg .bubble").get(3).addClass("animate")},100),setTimeout(function(){$(".easteregg .bubble").get(2).addClass("active")},3600),setTimeout(function(){$(".easteregg .bubble").get(2).addClass("animate")},3700),setTimeout(function(){$(".easteregg .bubble").get(1).addClass("active")},7100),setTimeout(function(){$(".easteregg .bubble").get(1).addClass("animate")},7200),setTimeout(function(){$(".easteregg .bubble").get(0).addClass("active")},10600),setTimeout(function(){$(".easteregg .bubble").get(0).addClass("animate")},10700),setTimeout(function(){$(".bubbles").removeClass("active"),Background.play("lightsoff")},12700),setTimeout(function(){GoogleDemoApp.instance.hideEasterEgg(),Background.play("lightson")},17700))},GoogleDemoApp.prototype.hideEasterEgg=function(){$("#stagerecap .step--0").removeClass("easteregg--in"),this.showingEasterEgg=!1,$(".easteregg .bubbles").removeClass("active"),$(".easteregg").removeClass("active"),$(".easteregg .bubble").removeClass("animate active")},GoogleDemoApp.prototype.log=function(e,t){if(this.debug)switch(t=t||"log"){case"error":console.error(e);break;case"log":default:console.log(e)}},GoogleDemoApp.prototype.init=function(){Utils.detectBrowser(),this.mode=Utils.detectDevice(),this.addButtonActions(),this.log("App init"),this.resize()},GoogleDemoApp.prototype.timeNextSection=function(e){this.timedTimeout=setTimeout(function(){GoogleDemoApp.instance.nextSection()},1e3*e)},GoogleDemoApp.prototype.timeOpen=function(e,t){this.timedTimeout=setTimeout(function(e){GoogleDemoApp.instance.open(e)},1e3*t,e)},GoogleDemoApp.prototype.nextSection=function(){this.showingEasterEgg||this.enableScrolling&&this.sectionIndex!=this.navigationSequence.length-1&&(clearTimeout(this.timedTimeout),this.changingSection=!0,this.open(this.navigationSequence[this.sectionIndex+1]))},GoogleDemoApp.prototype.prevSection=function(){this.showingEasterEgg||this.enableScrolling&&0!=this.sectionIndex&&(this.changingSection=!0,Background.set(this.backBckgrounds[this.sectionBackIndex]),this.open(this.backNavigationSequence[this.sectionBackIndex],!0))},GoogleDemoApp.prototype.attachActions=function(e){for(var t=0;t<e.length;t++){var a=e.get(t);if(null!=a.data("slug")){var o=this;a.click(function(){o.open($(this).data("slug"))})}}},GoogleDemoApp.prototype.addButtonActions=function(){this.attachActions($("button")),this.attachActions($(".slug-deep-dive"))},GoogleDemoApp.prototype.getStepTarget=function(e,t,a){return $("#"+this.pathElements[e-1]+t).find("."+this.pathElements[e]+"--"+a).first()},GoogleDemoApp.prototype.getSlugClass=function(e){return e.indexOf(":")>=0&&(e=e.substring(e.indexOf(":")+1)),e},GoogleDemoApp.prototype.getSlugComponent=function(e){return e.indexOf(":")>=0&&(e=e.substring(0,e.indexOf(":"))),e},GoogleDemoApp.prototype.getTarget=function(e,t){return 2==e?this.getStepTarget(e,this.getSlugComponent(t[e-1]),this.getSlugComponent(t[e])):$("#"+this.pathElements[e]+this.getSlugComponent(t[e]))},GoogleDemoApp.prototype.cleanGroup=function(e){for(var t=document.getElementsByClassName(e+"--out"),a=0;a<t.length;a++)t[a].classList.remove("active",e+"--out",e+"--in")},GoogleDemoApp.prototype.cleanDom=function(){this.cleanGroup("section"),this.cleanGroup("stage"),this.cleanGroup("step")},GoogleDemoApp.prototype.removePartial=function(e){for(var t=[],a=0;a<e.classes();a++)e.classes(a).substring(0,this.partialPrefix.length)==this.partialPrefix&&t.push(e.classes(a))},GoogleDemoApp.prototype.cleanPartial=function(e,t){var a=this.getTarget(e,t);this.removePartial(a)},GoogleDemoApp.prototype.addPartial=function(e,t){var a=this.getTarget(e,t);this.removePartial(a);for(var o=this.getSlugClass(t[e]).split(" "),i=0;i<o.length;i++)a.addClass(o[i])},GoogleDemoApp.prototype.switchChairs=function(){this.switchedChairs||resetTooltip("#tooltipVisionSearch",!0);this.chairIndex=2==this.chairIndex?0:this.chairIndex+1;var e=["dining_option3","dining_option1","dining_option2"][this.chairIndex];Background.play(e),setTimeout(function(e){Background.play(e)},1800,e+"_glow")},GoogleDemoApp.prototype.unGlow=function(){var e=["dining_option3_unglow","dining_option1_unglow","dining_option2_unglow"][this.chairIndex];Background.play(e)},GoogleDemoApp.prototype.blockKeysAndScroll=function(e){this._blockKeysAndScroll=e},GoogleDemoApp.prototype.nextSectionProxy=function(){this._blockKeysAndScroll||this.changingSection||this.nextSection()},GoogleDemoApp.prototype.prevSectionProxy=function(){this._blockKeysAndScroll||this.changingSection||this.prevSection()},GoogleDemoApp.prototype.open=function(e,t){if("NEXT"!=e){this.changingSection=!0,this.sectionIndex=this.navigationSequence.indexOf(e);for(var a=0,o=0;o<this.sectionIndex;o++)this.backNavigationSequence.indexOf(this.navigationSequence[o])>0&&a++;this.sectionBackIndex=a,this.currentSlug=e;for(var i=e.split("."),s=!1,n=0;n<i.length;n++){i[n].split(":")[0];var l=n==i.length-1;if(this.path[n]!=i[n]||s)if(null==this.path[n]||this.getSlugComponent(this.path[n])!=this.getSlugComponent(i[n])||s){s=!0;var r=this.getTarget(n,i),p=r.data("timeIntro")||2e3;if(!r)return this.report(i[n]+"("+e+") not found");if(null!=this.path[n]){var h=(c=this.getTarget(n,this.path)).data("timeOutro")||1e3;c.addClass(this.pathElements[n]+"--out"),r.addClass("active"),setTimeout(function(e,t,a){e.cleanPartial(t,a)},h,this,n,this.path),setTimeout(function(e,t){e.addClass(t),GoogleDemoApp.instance.cleanDom()},h,r,this.pathElements[n]+"--in"),l&&setTimeout(function(){GoogleDemoApp.instance.dispatchCallback(),setTimeout(function(){GoogleDemoApp.instance.dispatchCallback("after")},p)},h)}else r.addClass("active"),setTimeout(function(e,t){e.addClass(t),GoogleDemoApp.instance.dispatchCallback()},100,r,this.pathElements[n]+"--in"),l&&setTimeout(function(){GoogleDemoApp.instance.dispatchCallback("after")},p)}else this.addPartial(n,i),l&&(GoogleDemoApp.instance.dispatchCallback(),setTimeout(function(){GoogleDemoApp.instance.dispatchCallback("after")},1e3))}for(n=i.length;n<this.path.length;n++){var c;(c=this.getTarget(n,this.path)).removeClass(this.pathElements[n]+"--in")}this.path=i,this.dispatchCallback("before")}else this.nextSection()},GoogleDemoApp.prototype.dispatchCallback=function(e){"after"==e&&setTimeout(function(e){e.changingSection=!1},3e3,this),e=null!=e?"["+e.toUpperCase()+"] ":"",null!=this.callbacks[e+this.currentSlug]&&this.callbacks[e+this.currentSlug]()},GoogleDemoApp.prototype.resize=function(){var e=document.body.offsetWidth,t=document.body.offsetHeight;if(e/t>1920/1080){var a=e,o=Math.ceil(e/(1920/1080));$(".fit-canvas").css({position:"absolute",width:a+"px",height:o+"px",left:-(a-e)/2+"px",top:-(o-t)/2+"px"})}else{a=Math.ceil(t*(1920/1080)),o=t;$(".fit-canvas").css({position:"absolute",width:a+"px",height:o+"px",left:-(a-e)/2+"px",top:-(o-t)/2+"px"})}this.mode=Utils.detectDevice(),Background.disableRender="mobile"==this.mode};var GDApp=new GoogleDemoApp({callbacks:SiteCallbacks});GDApp.open("splash");